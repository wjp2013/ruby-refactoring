# Extract Method 提炼函数

*Extract Method* （提炼函数）是最常用的重构手法之一。

当看见一个过长的函数或者一段需要注释才能让人理解用途的代码，就应该将这段代码放进一个独立函数中。

## 一个函数多长才算合适？

在我看来，长度不是问题，关键在于函数名称和函数本体之间的语义距离（semantic distance）。

如果提炼动作（extracting）可以强化代码的清晰度，那就去做，就算函数名称比提炼出来的代码还长也无所谓。

## 小函数多了很麻烦？

这样的重构，带来一个问题，就是代码模块粒度都很小，可能会产生很多小函数，对函数的管理带来麻烦。

这种情况并不是这个重构本身的问题，而是说明你的代码的确是很复杂了，说明一个类中做了太多的事情，而这些事情写在一块倒还好，一旦化开，整个类中都是小方法。

如果是这样，那么可能要重构类了。所以没有这个 *Extract Method* 的重构方法，你也不一定会发现类的设计不合理。

## 简短而命名良好的函数的好处

1. 如果每个函数的粒度都很小，那么函数被复用的机会就更大。
2. 这会使高层函数读起来就想一系列注释。
2. 如果函数都是细粒度，那么函数的覆写也会更容易些。


